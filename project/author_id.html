<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>作者页面</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>
    <!-- 转入成功！ -->
    <div id="container"></div>
    <script>
        var author_id = window.location.href.split("?")[1].split("=")[1];
        // document.getElementById(container).innerHTML = data;
        // alert(data);
        console.log(author_id);
        $.ajax({	
		    //请求方式
		    type:'get',

            url:'https://cnodejs.org/api/v1/topics',
		    
		    //服务器返回的数据类型
		    dataType:'json',
		    
		    //请求成功的处理
		    success:function(data){
		        console.log(data);
		        //获取需要的数据
		        var group = data.data;
		        console.log(group);
		        //拼接字符串
			    var str = '';
			    // console.log(group.length);

                for(var i=0;i<group.length;i++){
                   
                   if (group[i].author_id == author_id){
                    str += '<div class="whole"><img class="author_img" src="' + group[i].author.avatar_url +'" alt=""> <div><p>'+group[i].author.loginname+'<p></div></div>'
                   }
                    
                }
                
                //放入页面的容器显示
                //  console.log(str);

		        // $('#container').html(str);
                document.getElementById('container').innerHTML=str;
                // $('#container').html(group);
		        
		    },
		    //请求失败的处理
		    error:function(jqXHR){
		        console.log(jqXHR);
		    }
		});
    </script>    
</body>
</html>